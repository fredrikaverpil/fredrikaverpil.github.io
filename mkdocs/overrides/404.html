{% extends "main.html" %}

<!-- Head -->
{% block extrahead %}
<script>
    var currentUrl = window.location.href;
    var redirected = new URL(currentUrl).searchParams.get('redirected');
    if (currentUrl.endsWith("/about") && !redirected) {
        var urlObj = new URL(currentUrl);
        var newUrl = urlObj.protocol + "//" + urlObj.hostname + (urlObj.port ? ':' + urlObj.port : '');
        newUrl += newUrl.includes('?') ? '&redirected=true' : '?redirected=true';
        window.location.href = newUrl;
    }
    else if (!currentUrl.includes("/blog/") && !redirected) {
        var urlObj = new URL(currentUrl);
        var newUrl = urlObj.protocol + "//" + urlObj.hostname + (urlObj.port ? ':' + urlObj.port : '') + "/blog" + urlObj.pathname + urlObj.search;
        newUrl += newUrl.includes('?') ? '&redirected=true' : '?redirected=true';
        window.location.href = newUrl;
    }
</script>
{% endblock %}

<!-- Content -->
{% block content %}
  <h1>404 - Not found</h1>
  <div>
    Try searching for what you were looking for.
    I recently restructured the blog, so old post URLs are broken, unfortunately.
  </div>
{% endblock %}

